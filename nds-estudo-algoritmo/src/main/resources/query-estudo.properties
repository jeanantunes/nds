queryUltimoProdutoEdicao=SELECT pe.ID, pe.PRODUTO_ID, pe.NUMERO_EDICAO, p.CODIGO, l.DATA_LCTO_DISTRIBUIDOR, l.ID LANCAMENTO_ID FROM produto_edicao pe JOIN produto p ON pe.PRODUTO_ID = p.ID JOIN lancamento l ON l.PRODUTO_EDICAO_ID = pe.ID WHERE p.CODIGO = ? ORDER BY NUMERO_EDICAO DESC LIMIT 1
queryEdicoesRecebidas=SELECT P.NOME, PE.NUMERO_EDICAO, EPC.QTDE_RECEBIDA, EPC.QTDE_DEVOLVIDA, PE.PARCIAL, PE.PACOTE_PADRAO, PE.PESO, PE.ID as pedId, (CASE WHEN EXISTS(SELECT '.' FROM TIPO_PRODUTO TP WHERE TP.ID = P.TIPO_PRODUTO_ID AND TP.GRUPO_PRODUTO = 'COLECIONAVEL') THEN 1 ELSE 0 END) IS_COLECAO FROM ESTOQUE_PRODUTO_COTA EPC JOIN PRODUTO_EDICAO PE ON PE.ID = EPC.PRODUTO_EDICAO_ID JOIN PRODUTO P ON P.ID = PE.PRODUTO_ID WHERE EPC.COTA_ID = ?
queryQtdeVezesReenviadas=SELECT count(EPC.id) FROM ESTOQUE_PRODUTO_COTA EPC JOIN PRODUTO_EDICAO PE ON PE.ID = EPC.PRODUTO_EDICAO_ID WHERE EPC.COTA_ID = ? AND PE.ID = ? and PE.parcial = 1

queryModelProdutoEdicao=SELECT l.ID, l.PRODUTO_EDICAO_ID, l.STATUS, l.DATA_LCTO_PREVISTA, l.DATA_LCTO_DISTRIBUIDOR, tp.GRUPO_PRODUTO, l.TIPO_LANCAMENTO, pe.NUMERO_EDICAO, p.CODIGO, plp.NUMERO_PERIODO, plp.TIPO FROM lancamento l LEFT JOIN produto_edicao pe ON pe.ID = l.PRODUTO_EDICAO_ID LEFT JOIN produto p ON p.ID = pe.PRODUTO_ID LEFT JOIN tipo_produto tp ON tp.ID = p.TIPO_PRODUTO_ID LEFT JOIN periodo_lancamento_parcial plp ON plp.LANCAMENTO_ID = l.ID WHERE pe.PRODUTO_ID = (SELECT ID FROM produto WHERE CODIGO = ?)

insertEstudo=INSERT INTO estudo (produto_edicao_id, lancamento_id, liberado, reparte_distribuir, sobra, distribuicao_por_multiplos, pacote_padrao, percentual_proporcao_excedente_pdv, percentual_proporcao_excedente_venda, data_cadastro, data_lancamento, qtde_reparte, status) VALUES (:produto.id, :produto.idLancamento, false, :reparteDistribuirInicial, :reparteDistribuir, :distribuicaoPorMultiplos, :pacotePadrao, :percentualProporcaoExcedentePDV, :percentualProporcaoExcedenteVenda, :dataCadastro, :produto.dataLancamento, :reparteDistribuirInicial, :status)
insertEstudoCotas=INSERT INTO estudo_cota (cota_id, estudo_id, qtde_prevista, qtde_efetiva, classificacao, reparte, venda_media, venda_media_nominal, reparte_juramentado_a_faturar, quantidade_pdvs, reparte_minimo, reparte_maximo, venda_media_mais_n, indice_correcao_tendencia, indice_venda_crescente, percentual_encalhe_maximo, mix) VALUES (:id, :idEstudo, :reparteCalculado, :reparteCalculado, :classificacao.codigo, :reparteCalculado, :vendaMedia, :vendaMediaNominal, :reparteJuramentadoAFaturar, :quantidadePDVs, :reparteMinimo, :reparteMaximo, :vendaMediaMaisN, :indiceCorrecaoTendencia, :indiceVendaCrescente, :percentualEncalheMaximo, :mix)
insertProdutoEdicao=INSERT INTO estudo_produto_edicao (estudo_id, cota_id, produto_edicao_id, reparte, venda, reparte_minimo, reparte_maximo, indice_correcao, venda_corrigida) VALUES (:idEstudo, :idCota, :id, :reparte, :venda, :reparteMinimo, :reparteMaximo, :indiceCorrecao, :vendaCorrigida)
insertProdutoEdicaoBase=INSERT INTO estudo_produto_edicao_base (estudo_id, produto_edicao_id, colecao, parcial, edicao_aberta, peso) VALUES (:idEstudo, :id, :colecao, :parcial, :edicaoAberta, :peso)